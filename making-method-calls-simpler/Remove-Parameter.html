---
layout: making-method-calls-simpler
head_en: Remove Parameter
---
<p>
函数本体（method body）不再需要某个参数。
<p><b>将该参数去除。</b></p>

<p class="p-img"><img alt="" src="{{site.baseurl}}/images/10fig03.gif" /></p>

<h3>动机（Motivation）</h3>
<p>
程序员可能经常添加参数，却往往不愿意去掉它们。他们打的如意算盘是，无论如 何，多余的参数不会引起任何问题，而且以后还可能用上它。
<p>
这也是恶魔的诱惑，一定要把它从脑子里赶出去！参数指出函数所需信息，不同的参数值代表不同的意义。函数调用者必须为每一个参数操心该传什么东西进去。如果你不去掉多余参数，你就是让你的每一位用户多费一份心。这是很不划算的，尤其「去除参数」是非常简单的一项重构。
<p>
但是，对于多态函数（polymorphic method），情况有所不同。这种情况下，可能多态函数的另一份（或多份）实现码会使用这个参数，此时你就不能去除它。你可以添加一个独立函数，在这些情况下使用，不过你应该先检查调用者如何使用这个函数，以决定是否值得这么做。如果某些调用者已经知道他们正在处理的是 一个特定的subclass ，并且已经做了额外工作找出自己需要的参数，或已经利用对classes 体系的了解来避免取到null ，那么就值得你建立一个新函数，去除那多余参数。如果调用者不需要了解该函数所属的class ，你也可以保持调用者无知（而幸福）的状态。

<h3>作法（Mechanics）</h3>
<p>
<a href="{{site.baseurl}}/making-method-calls-simpler/Remove-Parameter.html">Remove Parameter</a> 的作法和<a href="{{site.baseurl}}/making-method-calls-simpler/Rename-Method.html">Rename Method</a> 、<a href="{{site.baseurl}}/making-method-calls-simpler/Add-Parameter.html">Add Parameter</a> 非常相似。
<ul>
  <li>检查函数签名式（signature）是否被superclass 或如subclass 实现过。如果是，则需要针对每份实现品分别进行下列步骤。</li>
  <li>声明一个新函数，名称与原函数同，只是去除不必要的参数。将旧函数的代码拷贝到新函数中。
    <ul>
      <li>如果需要去除的参数不止一个，将它们一次性去除比较容易。</li>
    </ul>
  </li>
  <li>编译。
  <li>修改旧函数，令它调用新函数。
    <ul>
      <li>如果只有少数几个地方引用旧函数，你大可放心地跳过这一步骤。</li>
    </ul>
  </li>
  <li>编译，测试。</li>
  <li>找出旧函数的所有被引用点，将它们全部修改为对新函数的引用。每次修改后，编译并测试。</li>
  <li>删除旧函数。
    <ul>
      <li>如果旧函数是class public 接口的一部分，你可能无法安全地删除它。 这种情况下，将它保留在原处，并将它标记为"deprecated"（不再被赞同）。</li>
    </ul>
  </li>
  <li>编译，测试。</li>
</ul>

<p>
由于我可以轻松地添加、去除参数，所以我经常一次性地添加或去除必要的参数。
